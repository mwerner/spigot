{"name":"Spigot","tagline":"Spigot provides a clean interface translating API data into context relevant objects","body":"# Spigot\r\n\r\n[![Build Status](https://travis-ci.org/mwerner/spigot.png?branch=master)](https://travis-ci.org/mwerner/spigot)\r\n[![Code Climate](https://codeclimate.com/github/mwerner/spigot.png)](https://codeclimate.com/github/mwerner/spigot)\r\n\r\nSpigot is an attempt to bring some sanity to consuming external API data. Without Spigot, you need\r\nto do this manual mapping at creation, such as:\r\n\r\n    Pull.where(number: pull.number).first_or_initialize.tap do |t|\r\n      t.title      = pull.title\r\n      t.body       = pull.body\r\n      t.url        = pull._links.html.href\r\n      t.head_ref   = pull.head.ref\r\n      t.head_sha   = pull.head.sha\r\n      t.base_ref   = pull.base.ref\r\n      t.base_sha   = pull.base.sha\r\n      t.save\r\n    end\r\n\r\nSpigot reads config files in an expected format to map the data you receive to the columns of your database.\r\nThis becomes particularly difficult as you start having multiple sources for the same resource (ex: users).\r\n\r\nSpigot is able to do the translation for you and put the API data into a language your implementation understands.\r\nThis leaves you with a simple statement to accomplish the same as above:\r\n\r\n    Pull.find_or_create_by_api(:github, pull)\r\n\r\nMuch better. [Read More](https://github.com/mwerner/spigot/wiki)\r\n\r\n## Example\r\n\r\n    # Our Model\r\n    class User < ActiveRecord::Base\r\n      include Spigot::Base\r\n    end\r\n\r\n    # Api Data Received\r\n    data = JSON.parse(\"{\\\"full_name\\\":\\\"Dean Martin\\\",\\\"login\\\":\\\"dino@amore.io\\\",\\\"token\\\":\\\"abc123\\\"}\")\r\n\r\n    # Spigot yaml file to map this data correctly\r\n    user:\r\n      full_name: name\r\n      login: email\r\n      token: auth\r\n\r\n    # Usage\r\n    User.find_or_create_by_api(:github, data).inspect\r\n    #=> #<User id: 1, name: \"Dean Martin\", email: \"dino@amore.io\", auth: \"abc123\">\r\n\r\n## Future\r\n\r\nFeatures to be added in the future:\r\n\r\n- Callbacks\r\n- Interpolating values\r\n- Specifying local methods instead of attributes\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'spigot'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install spigot\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}